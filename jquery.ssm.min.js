(function(a){String.prototype.indices=function(a,b){var c=-1;for(var d in this)this[d]==a&&("object"!=typeof c&&b&&(c=Array()),b?c.push(d):-1==c&&(c=d));return b&&-1==c?[-1]:c},a.fn.extend({ssm:function(b){var c={msg:"thanks",letter:0},b=a.extend(c,b);return this.each(function(){var c=b.msg.split(""),d=Array(),e=null;a(a(this)).children("li").each(function(e,f){var g=a(f).html(),h=g.split(""),i=Array(),j=null;if(i=g.indices(c[e],!0),b.letter){for(var k=b.letter-1;k>i.length-1;)k--;j=i[k]}else j=i[Math.round(Math.random()*(i.length-1))];d.push(j),console.groupCollapsed(g),a(f).html("");for(key in h){var l=h[key];l==c[e]&&key==j&&-1!=j?a(f).html(a(f).html()+"<b>"+l+"</b>"):a(f).html(a(f).html()+l)}console.groupEnd()}),e=d.slice().sort(function(a,b){return a-b})[d.length-1],a(a(this)).children("li").each(function(b,c){for(var f=0;e-d[b]>=f;f++)a(c).html("&nbsp;"+a(c).html())})})}})})(jQuery);